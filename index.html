<!DOCTYPE html>
<html>
<head>
  <title>Sentiment Analysis Demo</title>
</head>
<body>
  <h1>Sentiment Analysis Demo</h1>
  <textarea id="userText" rows="4" cols="50" placeholder="Type your text here"></textarea><br>
  <button onclick="analyzeText()">Analyze</button>

  <h2>Results:</h2>
  <div id="results"></div>

  <script>
   async function analyzeText() {
  const text = document.getElementById('userText').value;
  if (!text) return alert("Enter text first!");

  const response = await fetch("/analyze", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ text })
  });

  const data = await response.json();
  document.getElementById('results').innerHTML =
    `<b>Sentiment:</b> ${data.sentiment}<br>` +
    `<b>Positive:</b> ${data.scores.positive.toFixed(2)}, ` +
    `<b>Neutral:</b> ${data.scores.neutral.toFixed(2)}, ` +
    `<b>Negative:</b> ${data.scores.negative.toFixed(2)}`;
}

      });

      const data = await response.json();
      const sentiment = data.documents[0].sentiment;
      const scores = data.documents[0].confidenceScores;
      
      document.getElementById('results').innerHTML =
        `<b>Sentiment:</b> ${sentiment}<br>` +
        `<b>Positive:</b> ${scores.positive.toFixed(2)}, ` +
        `<b>Neutral:</b> ${scores.neutral.toFixed(2)}, ` +
        `<b>Negative:</b> ${scores.negative.toFixed(2)}`;
    }
  </script>
</body>
</html>

