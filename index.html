<!DOCTYPE html>
<html>
<head>
  <title>Sentiment Analysis Demo</title>
</head>
<body>
  <h1>Sentiment Analysis Demo</h1>
  <textarea id="userText" rows="4" cols="50" placeholder="Type your text here"></textarea><br>
  <button onclick="analyzeText()">Analyze</button>

  <h2>Results:</h2>
  <div id="results"></div>

  <script>
    async function analyzeText() {
      const text = document.getElementById('userText').value;
      if (!text) return alert("Enter text first!");

      const response = await fetch("https://eastus.api.cognitive.microsoft.com/text/analytics/v3.1/sentiment", {
        method: "POST",
        headers: {
          "Ocp-Apim-Subscription-Key": "167bc78bf8dd431a808011ad307c291b",
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          documents: [{ id: "1", language: "en", text: text }]
        })
      });

      const data = await response.json();
      const sentiment = data.documents[0].sentiment;
      const scores = data.documents[0].confidenceScores;
      
      document.getElementById('results').innerHTML =
        `<b>Sentiment:</b> ${sentiment}<br>` +
        `<b>Positive:</b> ${scores.positive.toFixed(2)}, ` +
        `<b>Neutral:</b> ${scores.neutral.toFixed(2)}, ` +
        `<b>Negative:</b> ${scores.negative.toFixed(2)}`;
    }
  </script>
</body>
</html>
