<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sentiment Analyzer</title>
<style>
body { font-family: Arial, sans-serif; margin: 50px; }
textarea { width: 100%; height: 100px; }
button { margin-top: 10px; }
#results { margin-top: 20px; }
</style>
</head>
<body>

<h1>Sentiment Analyzer</h1>
<textarea id="textInput" placeholder="Enter text here..."></textarea><br>
<button onclick="analyze()">Analyze</button>

<div id="results"></div>

<script>
async function analyze() {
    const text = document.getElementById("textInput").value;
    if (!text) return alert("Please enter text!");

    const resDiv = document.getElementById("results");
    resDiv.innerHTML = "Analyzing...";

    try {
        const response = await fetch("/analyze", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ text })
        });
        const data = await response.json();
        if (data.error) {
            resDiv.innerHTML = "Error: " + data.error;
        } else {
            resDiv.innerHTML = `
                <b>Sentiment:</b> ${data.sentiment}<br>
                <b>Confidence:</b> ${JSON.stringify(data.confidenceScores)}<br>
                <b>Key Phrases:</b> ${data.keyPhrases.join(", ")}
            `;
        }
    } catch (err) {
        resDiv.innerHTML = "Error connecting to backend.";
    }
}
</script>

</body>
</html>

